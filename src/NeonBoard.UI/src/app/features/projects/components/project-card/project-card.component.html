<div class="group bg-surface border border-subtle rounded-lg p-5 hover:border-dim hover:bg-surface-elevated transition-colors duration-150 relative overflow-hidden">
  <!-- Gradient accent at top -->
  <app-gradient-accent [variant]="index"></app-gradient-accent>

  <a
    [routerLink]="['/project', project.id]"
    class="block"
  >
    <div class="mb-3">
      <h3 class="text-base font-medium text-primary group-hover:text-accent transition-colors">
        {{ project.name }}
      </h3>
      @if (project.description) {
        <p class="text-sm text-muted mt-1 line-clamp-2">
          {{ project.description }}
        </p>
      }
    </div>
    <div class="flex items-center justify-between text-xs text-muted pt-3 border-t border-subtle">
      <span>Created {{ getRelativeTime(project.createdAt) }}</span>
      <span>Updated {{ getRelativeTime(project.updatedAt) }}</span>
    </div>
  </a>

  <!-- Delete button -->
  <button
    (click)="onDelete($event)"
    class="absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity p-1.5 hover:bg-red-500/10 rounded text-muted hover:text-red-400"
    title="Delete project"
  >
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
    </svg>
  </button>
</div>

<!-- Delete Confirmation Modal -->
<app-confirmation-modal [open]="showDeleteConfirmation()" [title]="'Delete Project'" [message]="'Are you sure you want to delete ' + project.name + '? This action cannot be undone.'" [confirmText]="'Delete'" [cancelText]="'Cancel'" [variant]="'danger'" (confirm)="onConfirmDelete()" (cancel)="onCancelDelete()"></app-confirmation-modal>
